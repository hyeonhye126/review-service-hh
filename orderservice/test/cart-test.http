@baseurl = http://localhost:8081
@baseurl2 = http://localhost:8082
@customer_user = merong4473
@customer_password = Test@1234
@test_menu_id = ea64c59c-59b1-4905-9cb6-559837456f74
@test_store_id = 459c5d07-28f0-4828-8772-5e9545415711
@test_opt_value_id_1 = d02954ed-6beb-4fd1-bf3f-ea17fb1fd53f
@test_opt_value_id_2 = 8105cf4c-54c1-4130-a96f-86f48b24c99b


### ë¡œê·¸ì¸ ìš”ì²­ í…ŒìŠ¤íŠ¸ (í† í° ë°›ê¸°)
# ì´ ìš”ì²­ì„ ë¨¼ì € ì‹¤í–‰í•˜ì—¬ í† í°ì„ {{ACCESS_TOKEN}} ë³€ìˆ˜ì— ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.
POST {{baseurl}}/users/login
Content-Type: application/json

{
  "username": "{{customer_user}}",
  "password": "{{customer_password}}"
}

> {% client.global.set("ACCESS_TOKEN", response.body.accessToken); %}


######################################################################
### 2. ì¥ë°”êµ¬ë‹ˆ API í…ŒìŠ¤íŠ¸ (ì¸ì¦ í•„ìš”)
######################################################################

### 2.1. ì¥ë°”êµ¬ë‹ˆì— ë©”ë‰´ í•­ëª© ì¶”ê°€ (POST /api/v1/cart)
# ğŸ’¡ [ì˜¤ëŠ˜ì˜ ì¶”ê°€ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹œì‘] ì¼ë°˜ë°°ë‹¬(false), ìš”ì²­ì‚¬í•­ê³¼ í•¨ê»˜ ë©”ë‰´ ì¶”ê°€
POST {{baseurl2}}/api/v1/cart
Content-Type: application/json
Authorization: Bearer {{ACCESS_TOKEN}}

{
  "menuId": "{{test_menu_id}}",
  "quantity": 2,
  "options": [
    { "menuOptValueId": "{{test_opt_value_id_1}}" },
    { "menuOptValueId": "{{test_opt_value_id_2}}" }
  ],
  "isSingleDelivery": false,
  "ownerRequest": "ë¬¸ ì•ì— ë‘ê³  ì—°ë½ì£¼ì„¸ìš”.",
  "partnerRequest": "ì²œì²œíˆ ì•ˆì „í•˜ê²Œ ì˜¤ì„¸ìš”."
}

### 2.2. ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ (GET /api/v1/cart)
# ğŸ’¡ ì¡°íšŒ ì‹œ, ì£¼ì†Œê°€ ë°˜ì˜ë˜ê³  isAblePayê°€ ê²€ì¦ë˜ì–´ ì‘ë‹µì— í¬í•¨ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
GET {{baseurl2}}/api/v1/cart
Authorization: Bearer {{ACCESS_TOKEN}}

### 2.3. ì¥ë°”êµ¬ë‹ˆ í•­ëª© ì¶”ê°€ (ìˆ˜ëŸ‰ ì¦ê°€ í…ŒìŠ¤íŠ¸ - ê¸°ì¡´ ë¡œì§)
POST {{baseurl2}}/api/v1/cart
Content-Type: application/json
Authorization: Bearer {{ACCESS_TOKEN}}

{
  "menuId": "{{test_menu_id}}",
  "quantity": 1,
  "options": [
    { "menuOptValueId": "{{test_opt_value_id_1}}" },
    { "menuOptValueId": "{{test_opt_value_id_2}}" }
  ]
}

### 2.4. ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ (ì¦ê°€ í™•ì¸)
GET {{baseurl2}}/api/v1/cart
Authorization: Bearer {{ACCESS_TOKEN}}

---
### 2.7. ì¥ë°”êµ¬ë‹ˆ ì†ì„± ìˆ˜ì • (PATCH /api/v1/cart)
# ğŸ’¡ ì¼ë°˜ë°°ë‹¬(false)ì—ì„œ í•œì§‘ë°°ë‹¬(true)ë¡œ ë³€ê²½í•˜ê³ , ìš”ì²­ì‚¬í•­ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.
# ğŸ’¡ finalTotalFeeê°€ 1000ì› ì¦ê°€í–ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.
PATCH {{baseurl2}}/api/v1/cart
Content-Type: application/json
Authorization: Bearer {{ACCESS_TOKEN}}

{
  "isSingleDelivery": true,
  "ownerRequest": "ì£¼ë¬¸ ë³€ê²½ ì—†ìœ¼ë‹ˆ ë¹¨ë¦¬ ë§Œë“¤ì–´ì£¼ì„¸ìš”!",
  "partnerRequest": "ì˜¤ëŠ˜ì€ ì—˜ë¦¬ë² ì´í„°ë¥¼ ì´ìš©í•´ì£¼ì„¸ìš”."
}

### 2.8. ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ (PATCH ê²°ê³¼ í™•ì¸)
# ğŸ’¡ isSingleDeliveryê°€ trueì´ê³ , ìš”ì²­ì‚¬í•­ì´ ë³€ê²½ë˜ì—ˆìœ¼ë©°, finalTotalFeeê°€ ì¦ê°€í–ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
GET {{baseurl2}}/api/v1/cart
Authorization: Bearer {{ACCESS_TOKEN}}

---
### 2.9. ê²°ì œ ì™„ë£Œ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ (POST /api/v1/cart/checkout/success)
# ğŸ’¡ ì´ ìš”ì²­ì€ ì¥ë°”êµ¬ë‹ˆë¥¼ 'ê²°ì œì™„ë£Œ' ìƒíƒœë¡œ ë°”ê¾¸ê³ , Redisì—ì„œ ì¥ë°”êµ¬ë‹ˆë¥¼ ì‚­ì œí•´ì•¼ í•©ë‹ˆë‹¤.
POST {{baseurl2}}/api/v1/cart/checkout/success
Authorization: Bearer {{ACCESS_TOKEN}}

### 2.10. ê²°ì œ í›„ ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ (404 Not Found ê¸°ëŒ€)
# ğŸ’¡ 2.9 ìš”ì²­ìœ¼ë¡œ ì¥ë°”êµ¬ë‹ˆê°€ ì‚­ì œë˜ì—ˆìœ¼ë¯€ë¡œ 404 ì‘ë‹µì„ ê¸°ëŒ€í•©ë‹ˆë‹¤.
GET {{baseurl2}}/api/v1/cart
Authorization: Bearer {{ACCESS_TOKEN}}

---
### 2.11. ì¬í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì¥ë°”êµ¬ë‹ˆ ë¹„ìš°ê¸° (í•„ìš” ì‹œ ì£¼ì„ í•´ì œ)
# DELETE {{baseurl2}}/api/v1/cart
# Authorization: Bearer {{ACCESS_TOKEN}}